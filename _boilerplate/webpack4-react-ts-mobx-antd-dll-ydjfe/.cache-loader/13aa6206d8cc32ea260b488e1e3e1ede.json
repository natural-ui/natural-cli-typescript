{"remainingRequest":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js??ref--7-1!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js??ref--7-2!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\userStore\\index.ts","dependencies":[{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\userStore\\index.ts","mtime":1557549177000},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558612017300},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1550204147052},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js","mtime":1557710044686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX3RlbXA7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7CgpmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH0KCmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHsgdHJ5IHsgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpOyB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOyB9IGNhdGNoIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyByZXR1cm47IH0gaWYgKGluZm8uZG9uZSkgeyByZXNvbHZlKHZhbHVlKTsgfSBlbHNlIHsgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpOyB9IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBzZWxmID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOyBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJuZXh0IiwgdmFsdWUpOyB9IGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAidGhyb3ciLCBlcnIpOyB9IF9uZXh0KHVuZGVmaW5lZCk7IH0pOyB9OyB9CgpmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7IGlmICghZGVzY3JpcHRvcikgcmV0dXJuOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgeyBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogZGVzY3JpcHRvci5jb25maWd1cmFibGUsIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLCB2YWx1ZTogZGVzY3JpcHRvci5pbml0aWFsaXplciA/IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMCB9KTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkgeyB2YXIgZGVzYyA9IHt9OyBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldOyB9KTsgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7IGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTsgaWYgKCd2YWx1ZScgaW4gZGVzYyB8fCBkZXNjLmluaXRpYWxpemVyKSB7IGRlc2Mud3JpdGFibGUgPSB0cnVlOyB9IGRlc2MgPSBkZWNvcmF0b3JzLnNsaWNlKCkucmV2ZXJzZSgpLnJlZHVjZShmdW5jdGlvbiAoZGVzYywgZGVjb3JhdG9yKSB7IHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYzsgfSwgZGVzYyk7IGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkgeyBkZXNjLnZhbHVlID0gZGVzYy5pbml0aWFsaXplciA/IGRlc2MuaW5pdGlhbGl6ZXIuY2FsbChjb250ZXh0KSA6IHZvaWQgMDsgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDsgfSBpZiAoZGVzYy5pbml0aWFsaXplciA9PT0gdm9pZCAwKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjKTsgZGVzYyA9IG51bGw7IH0gcmV0dXJuIGRlc2M7IH0KCmZ1bmN0aW9uIF9pbml0aWFsaXplcldhcm5pbmdIZWxwZXIoZGVzY3JpcHRvciwgY29udGV4dCkgeyB0aHJvdyBuZXcgRXJyb3IoJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArICdwcm9wb3NhbC1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQgYW5kIHNldCB0byB1c2UgbG9vc2UgbW9kZS4gJyArICdUbyB1c2UgcHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpbiBzcGVjIG1vZGUgd2l0aCBkZWNvcmF0b3JzLCB3YWl0IGZvciAnICsgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLicpOyB9CgppbXBvcnQgeyBvYnNlcnZhYmxlLCBhY3Rpb24sIHJ1bkluQWN0aW9uIH0gZnJvbSAnbW9ieCc7CmltcG9ydCB7IFN0b3JlRXh0IH0gZnJvbSAnQHV0aWxzL3JlYWN0RXh0JzsKZXhwb3J0IHZhciBVc2VyU3RvcmUgPSAoX2NsYXNzID0gKF90ZW1wID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1N0b3JlRXh0KSB7CiAgX2luaGVyaXRzKFVzZXJTdG9yZSwgX1N0b3JlRXh0KTsKCiAgZnVuY3Rpb24gVXNlclN0b3JlKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVc2VyU3RvcmUpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoVXNlclN0b3JlKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJnZXRVc2Vyc2xvYWRpbmciLCBfZGVzY3JpcHRvciwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCAidXNlcnMiLCBfZGVzY3JpcHRvcjIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInBhZ2VJbmRleCIsIF9kZXNjcmlwdG9yMywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCAicGFnZVNpemUiLCBfZGVzY3JpcHRvcjQsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInRvdGFsIiwgX2Rlc2NyaXB0b3I1LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJnZXRVc2VycyIsIF9kZXNjcmlwdG9yNiwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF90aGlzLmNyZWF0ZVVzZXIgPQogICAgLyojX19QVVJFX18qLwogICAgZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXNlcikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFwaS51c2VyLmNyZWF0ZVVzZXIodXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBfdGhpcy5tb2RpZnlVc2VyID0KICAgIC8qI19fUFVSRV9fKi8KICAgIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodXNlcikgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXBpLnVzZXIubW9kaWZ5VXNlcih1c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBfdGhpcy5kZWxldGVVc2VyID0KICAgIC8qI19fUFVSRV9fKi8KICAgIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoX2lkKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hcGkudXNlci5kZWxldGVVc2VyKHsKICAgICAgICAgICAgICAgICAgX2lkOiBfaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5nZXRVc2VycygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCAiY2hhbmdlUGFnZUluZGV4IiwgX2Rlc2NyaXB0b3I3LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJjaGFuZ2VQYWdlU2l6ZSIsIF9kZXNjcmlwdG9yOCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF90aGlzLmhhbmRsZVRhYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHBhZ2luYXRpb24pIHsKICAgICAgdmFyIGN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQsCiAgICAgICAgICBwYWdlU2l6ZSA9IHBhZ2luYXRpb24ucGFnZVNpemU7CgogICAgICBpZiAoY3VycmVudCAhPT0gX3RoaXMucGFnZUluZGV4KSB7CiAgICAgICAgX3RoaXMuY2hhbmdlUGFnZUluZGV4KGN1cnJlbnQpOwogICAgICB9CgogICAgICBpZiAocGFnZVNpemUgIT09IF90aGlzLnBhZ2VTaXplKSB7CiAgICAgICAgX3RoaXMuY2hhbmdlUGFnZVNpemUocGFnZVNpemUpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyU3RvcmUsIFt7CiAgICBrZXk6ICJfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbCIsCiAgICAvLyBAdHMtaWdub3JlCiAgICB2YWx1ZTogZnVuY3Rpb24gX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwoa2V5LCBjb2RlKSB7CiAgICAgIC8vIEB0cy1pZ25vcmUKICAgICAgdGhpc1trZXldID0gZXZhbChjb2RlKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBVc2VyU3RvcmU7Cn0oU3RvcmVFeHQpLCBfdGVtcCksIChfZGVzY3JpcHRvciA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgImdldFVzZXJzbG9hZGluZyIsIFtvYnNlcnZhYmxlXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn0pLCBfZGVzY3JpcHRvcjIgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJ1c2VycyIsIFtvYnNlcnZhYmxlXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHJldHVybiBbXTsKICB9Cn0pLCBfZGVzY3JpcHRvcjMgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJwYWdlSW5kZXgiLCBbb2JzZXJ2YWJsZV0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICByZXR1cm4gMTsKICB9Cn0pLCBfZGVzY3JpcHRvcjQgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJwYWdlU2l6ZSIsIFtvYnNlcnZhYmxlXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHJldHVybiAzMDsKICB9Cn0pLCBfZGVzY3JpcHRvcjUgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJ0b3RhbCIsIFtvYnNlcnZhYmxlXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHJldHVybiAwOwogIH0KfSksIF9kZXNjcmlwdG9yNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgImdldFVzZXJzIiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5nZXRVc2Vyc2xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcGkudXNlci5nZXRVc2Vycyh7CiAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogX3RoaXMyLnBhZ2VJbmRleCwKICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IF90aGlzMi5wYWdlU2l6ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgcnVuSW5BY3Rpb24oJ1NFVF9VU0VSX0xJU1QnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi51c2VycyA9IHJlcy51c2VyczsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzLnRvdGFsOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJ1bkluQWN0aW9uKCdISURFX1VTRVJfTElTVF9MT0FESU5HJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZ2V0VXNlcnNsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkKICAgICk7CiAgfQp9KSwgX2Rlc2NyaXB0b3I3ID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCAiY2hhbmdlUGFnZUluZGV4IiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHBhZ2VJbmRleCkgewogICAgICBfdGhpczMucGFnZUluZGV4ID0gcGFnZUluZGV4OwoKICAgICAgX3RoaXMzLmdldFVzZXJzKCk7CiAgICB9OwogIH0KfSksIF9kZXNjcmlwdG9yOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgImNoYW5nZVBhZ2VTaXplIiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHBhZ2VTaXplKSB7CiAgICAgIF90aGlzNC5wYWdlU2l6ZSA9IHBhZ2VTaXplOwoKICAgICAgX3RoaXM0LmdldFVzZXJzKCk7CiAgICB9OwogIH0KfSkpLCBfY2xhc3MpOwoKdmFyIF9kZWZhdWx0ID0gbmV3IFVzZXJTdG9yZSgpOwoKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVXNlclN0b3JlLCAiVXNlclN0b3JlIiwgIkU6XFx3b3Jrc3BhY2UtbXlzZWxmXFxuYXR1cmFsLWNsaS10eXBlc2NyaXB0XFx3ZWJwYWNrNC1yZWFjdC10cy1tb2J4LWFudGQteWRqZmVcXHNyY1xcc3RvcmVcXHVzZXJTdG9yZVxcaW5kZXgudHMiKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihfZGVmYXVsdCwgImRlZmF1bHQiLCAiRTpcXHdvcmtzcGFjZS1teXNlbGZcXG5hdHVyYWwtY2xpLXR5cGVzY3JpcHRcXHdlYnBhY2s0LXJlYWN0LXRzLW1vYngtYW50ZC15ZGpmZVxcc3JjXFxzdG9yZVxcdXNlclN0b3JlXFxpbmRleC50cyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\userStore\\index.ts"],"names":["observable","action","runInAction","StoreExt","UserStore","createUser","user","api","modifyUser","deleteUser","_id","getUsers","handleTableChange","pagination","current","pageSize","pageIndex","changePageIndex","changePageSize","getUsersloading","res","users","total"],"mappings":"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","sourcesContent":["import { observable, action, runInAction } from 'mobx'\nimport { PaginationConfig } from 'antd/lib/pagination'\n\nimport { StoreExt } from '@utils/reactExt'\n\nexport class UserStore extends StoreExt {\n    /**\n     * 加载用户列表时的loading\n     *\n     * @type {boolean}\n     * @memberof UserStore\n     */\n    @observable\n    getUsersloading: boolean = false\n    /**\n     * 用户列表\n     *\n     * @type {IUserStore.IUser[]}\n     * @memberof UserStore\n     */\n    @observable\n    users: IUserStore.IUser[] = []\n    /**\n     * table pageIndex\n     *\n     * @type {number}\n     * @memberof UserStore\n     */\n    @observable\n    pageIndex: number = 1\n    /**\n     * table pageSize\n     *\n     * @type {number}\n     * @memberof UserStore\n     */\n    @observable\n    pageSize: number = 30\n    /**\n     * users total\n     *\n     * @type {number}\n     * @memberof UserStore\n     */\n    @observable\n    total: number = 0\n\n    /**\n     * 加载用户列表\n     *\n     * @memberof UserStore\n     */\n    @action\n    getUsers = async () => {\n        this.getUsersloading = true\n        try {\n            const res = await this.api.user.getUsers({ pageIndex: this.pageIndex, pageSize: this.pageSize })\n            runInAction('SET_USER_LIST', () => {\n                this.users = res.users\n                this.total = res.total\n            })\n        } catch (err) {}\n        runInAction('HIDE_USER_LIST_LOADING', () => {\n            this.getUsersloading = false\n        })\n    }\n\n    createUser = async (user: IUserStore.IUser) => {\n        await this.api.user.createUser(user)\n    }\n\n    modifyUser = async (user: IUserStore.IUser) => {\n        await this.api.user.modifyUser(user)\n    }\n\n    deleteUser = async (_id: string) => {\n        await this.api.user.deleteUser({ _id })\n        this.getUsers()\n    }\n\n    @action\n    changePageIndex = (pageIndex: number) => {\n        this.pageIndex = pageIndex\n        this.getUsers()\n    }\n\n    @action\n    changePageSize = (pageSize: number) => {\n        this.pageSize = pageSize\n        this.getUsers()\n    }\n\n    handleTableChange = (pagination: PaginationConfig) => {\n        const { current, pageSize } = pagination\n        if (current !== this.pageIndex) {\n            this.changePageIndex(current)\n        }\n        if (pageSize !== this.pageSize) {\n            this.changePageSize(pageSize)\n        }\n    }\n}\n\nexport default new UserStore()\n"]}]}