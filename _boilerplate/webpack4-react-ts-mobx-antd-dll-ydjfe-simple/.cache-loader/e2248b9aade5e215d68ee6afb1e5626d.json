{"remainingRequest":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js??ref--7-1!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js??ref--7-2!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\containers\\views\\Home\\Sider\\Menu.tsx","dependencies":[{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\containers\\views\\Home\\Sider\\Menu.tsx","mtime":1557549177000},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558612017300},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1550204147052},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js","mtime":1557710044686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJhbnRkL2xpYi9pY29uL3N0eWxlIjsKaW1wb3J0IF9JY29uIGZyb20gImFudGQvbGliL2ljb24iOwppbXBvcnQgImFudGQvbGliL21lbnUvc3R5bGUiOwppbXBvcnQgX01lbnUgZnJvbSAiYW50ZC9saWIvbWVudSI7Cgp2YXIgX2RlYywgX2NsYXNzLCBfY2xhc3MyLCBfdGVtcDsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9CgppbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCB7IG9ic2VydmVyLCBpbmplY3QgfSBmcm9tICdtb2J4LXJlYWN0JzsKaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICdtb2J4JzsKaW1wb3J0IHBhdGhUb1JlZ2V4cCBmcm9tICdwYXRoLXRvLXJlZ2V4cCc7CmltcG9ydCAqIGFzIHN0eWxlcyBmcm9tICcuL2luZGV4LnNjc3MnOwppbXBvcnQgbWVudSBmcm9tICcuLy4uL21lbnUnOwppbXBvcnQgeyBhcnJheVRvVHJlZSwgcXVlcnlBcnJheSB9IGZyb20gJ0B1dGlscy9pbmRleCc7CnZhciBTdWJNZW51ID0gX01lbnUuU3ViTWVudTsKdmFyIFNpZGVyTWVudSA9IChfZGVjID0gaW5qZWN0KGZ1bmN0aW9uIChzdG9yZSkgewogIHZhciByb3V0ZXJTdG9yZSA9IHN0b3JlLnJvdXRlclN0b3JlLAogICAgICBnbG9iYWxTdG9yZSA9IHN0b3JlLmdsb2JhbFN0b3JlLAogICAgICBhdXRoU3RvcmUgPSBzdG9yZS5hdXRoU3RvcmU7CiAgdmFyIHVzZXJJbmZvID0gYXV0aFN0b3JlLnVzZXJJbmZvOwogIHZhciBzaWRlQmFyVGhlbWUgPSBnbG9iYWxTdG9yZS5zaWRlQmFyVGhlbWUsCiAgICAgIHNpZGVCYXJDb2xsYXBzZWQgPSBnbG9iYWxTdG9yZS5zaWRlQmFyQ29sbGFwc2VkLAogICAgICBuYXZPcGVuS2V5cyA9IGdsb2JhbFN0b3JlLm5hdk9wZW5LZXlzLAogICAgICBzZXRPcGVuS2V5cyA9IGdsb2JhbFN0b3JlLnNldE9wZW5LZXlzOwogIHJldHVybiB7CiAgICByb3V0ZXJTdG9yZTogcm91dGVyU3RvcmUsCiAgICB1c2VySW5mbzogdXNlckluZm8sCiAgICBzaWRlQmFyVGhlbWU6IHNpZGVCYXJUaGVtZSwKICAgIHNpZGVCYXJDb2xsYXBzZWQ6IHNpZGVCYXJDb2xsYXBzZWQsCiAgICBuYXZPcGVuS2V5czogbmF2T3BlbktleXMsCiAgICBzZXRPcGVuS2V5czogc2V0T3BlbktleXMKICB9Owp9KSwgX2RlYyhfY2xhc3MgPSBvYnNlcnZlcihfY2xhc3MgPSAoX2NsYXNzMiA9IChfdGVtcCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoU2lkZXJNZW51LCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gU2lkZXJNZW51KCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaWRlck1lbnUpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoU2lkZXJNZW51KSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CiAgICBfdGhpcy5sZXZlbE1hcCA9IHt9OwoKICAgIF90aGlzLmdvdG8gPSBmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIga2V5ID0gX3JlZi5rZXk7CiAgICAgIHZhciBoaXN0b3J5ID0gX3RoaXMucHJvcHMucm91dGVyU3RvcmUuaGlzdG9yeTsKICAgICAgdmFyIHNlbGVjdGVkTWVudSA9IG1lbnUuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBTdHJpbmcoaXRlbS5pZCkgPT09IGtleTsKICAgICAgfSk7CgogICAgICBpZiAoc2VsZWN0ZWRNZW51ICYmIHNlbGVjdGVkTWVudS5wYXRoICYmIHNlbGVjdGVkTWVudS5wYXRoICE9PSBfdGhpcy5jdXJyZW50Um91dGUpIHsKICAgICAgICBoaXN0b3J5LnB1c2goc2VsZWN0ZWRNZW51LnBhdGgpOwogICAgICB9CiAgICB9OwoKICAgIF90aGlzLm9uT3BlbkNoYW5nZSA9IGZ1bmN0aW9uIChvcGVuS2V5cykgewogICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgIG5hdk9wZW5LZXlzID0gX3RoaXMkcHJvcHMubmF2T3BlbktleXMsCiAgICAgICAgICBzZXRPcGVuS2V5cyA9IF90aGlzJHByb3BzLnNldE9wZW5LZXlzOwogICAgICB2YXIgbGF0ZXN0T3BlbktleSA9IG9wZW5LZXlzLmZpbmQoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiAhbmF2T3BlbktleXMuaW5jbHVkZXMoa2V5KTsKICAgICAgfSk7CiAgICAgIHZhciBsYXRlc3RDbG9zZUtleSA9IG5hdk9wZW5LZXlzLmZpbmQoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiAhb3BlbktleXMuaW5jbHVkZXMoa2V5KTsKICAgICAgfSk7CiAgICAgIHZhciBuZXh0T3BlbktleXMgPSBbXTsKCiAgICAgIGlmIChsYXRlc3RPcGVuS2V5KSB7CiAgICAgICAgbmV4dE9wZW5LZXlzID0gX3RoaXMuZ2V0QW5jZXN0b3JLZXlzKGxhdGVzdE9wZW5LZXkpLmNvbmNhdChsYXRlc3RPcGVuS2V5KTsKICAgICAgfQoKICAgICAgaWYgKGxhdGVzdENsb3NlS2V5KSB7CiAgICAgICAgbmV4dE9wZW5LZXlzID0gX3RoaXMuZ2V0QW5jZXN0b3JLZXlzKGxhdGVzdENsb3NlS2V5KTsKICAgICAgfQoKICAgICAgc2V0T3BlbktleXMobmV4dE9wZW5LZXlzKTsKICAgIH07CgogICAgX3RoaXMuZ2V0UGF0aEFycmF5ID0gZnVuY3Rpb24gKGFycmF5LCBjdXJyZW50KSB7CiAgICAgIHZhciByZXN1bHQgPSBbU3RyaW5nKGN1cnJlbnQuaWQpXTsKCiAgICAgIHZhciBnZXRQYXRoID0gZnVuY3Rpb24gZ2V0UGF0aChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5waWQpIHsKICAgICAgICAgIHJlc3VsdC51bnNoaWZ0KFN0cmluZyhpdGVtLnBpZCkpOwogICAgICAgICAgZ2V0UGF0aChxdWVyeUFycmF5KGFycmF5LCBTdHJpbmcoaXRlbS5waWQpLCAnaWQnKSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZ2V0UGF0aChjdXJyZW50KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH07CgogICAgX3RoaXMuZ2V0QW5jZXN0b3JLZXlzID0gZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgbWFwID0ge307CgogICAgICB2YXIgZ2V0UGFyZW50ID0gZnVuY3Rpb24gZ2V0UGFyZW50KGluZGV4KSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtTdHJpbmcoX3RoaXMubGV2ZWxNYXBbaW5kZXhdKV07CgogICAgICAgIGlmIChfdGhpcy5sZXZlbE1hcFtyZXN1bHRbMF1dKSB7CiAgICAgICAgICByZXN1bHQudW5zaGlmdChnZXRQYXJlbnQocmVzdWx0WzBdKVswXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9OwoKICAgICAgZm9yICh2YXIgaW5kZXggaW4gX3RoaXMubGV2ZWxNYXApIHsKICAgICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChfdGhpcy5sZXZlbE1hcCwgaW5kZXgpKSB7CiAgICAgICAgICBtYXBbaW5kZXhdID0gZ2V0UGFyZW50KGluZGV4KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBtYXBba2V5XSB8fCBbXTsKICAgIH07CgogICAgX3RoaXMuZ2V0TWVudXMgPSBmdW5jdGlvbiAobWVudVRyZWUpIHsKICAgICAgcmV0dXJuIG1lbnVUcmVlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7CiAgICAgICAgICBpZiAoaXRlbS5waWQpIHsKICAgICAgICAgICAgX3RoaXMubGV2ZWxNYXBbaXRlbS5pZF0gPSBpdGVtLnBpZDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTdWJNZW51LCB7CiAgICAgICAgICAgIGtleTogU3RyaW5nKGl0ZW0uaWQpLAogICAgICAgICAgICB0aXRsZTogUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIGl0ZW0uaWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KF9JY29uLCB7CiAgICAgICAgICAgICAgdHlwZTogaXRlbS5pY29uCiAgICAgICAgICAgIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgaXRlbS50aXRsZSkpCiAgICAgICAgICB9LCBfdGhpcy5nZXRNZW51cyhpdGVtLmNoaWxkcmVuKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChfTWVudS5JdGVtLCB7CiAgICAgICAgICBrZXk6IFN0cmluZyhpdGVtLmlkKQogICAgICAgIH0sIGl0ZW0uaWNvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KF9JY29uLCB7CiAgICAgICAgICB0eXBlOiBpdGVtLmljb24KICAgICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsIGl0ZW0udGl0bGUpKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhTaWRlck1lbnUsIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdGhpcy5sZXZlbE1hcCA9IHt9OwogICAgICB2YXIgc2lkZUJhclRoZW1lID0gdGhpcy5wcm9wcy5zaWRlQmFyVGhlbWU7CiAgICAgIHZhciBtZW51SXRlbXMgPSB0aGlzLmdldE1lbnVzKHRoaXMubWVudVRyZWUpOyAvLyDlr7vmib7pgInkuK3ot6/nlLEKCiAgICAgIHZhciBjdXJyZW50TWVudSA9IG51bGw7CiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gbWVudVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKGl0ZW0ucGF0aCAmJiBwYXRoVG9SZWdleHAoaXRlbS5wYXRoKS5leGVjKHRoaXMuY3VycmVudFJvdXRlKSkgewogICAgICAgICAgICBjdXJyZW50TWVudSA9IGl0ZW07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9IG51bGw7CgogICAgICBpZiAoY3VycmVudE1lbnUpIHsKICAgICAgICBzZWxlY3RlZEtleXMgPSB0aGlzLmdldFBhdGhBcnJheShtZW51LCBjdXJyZW50TWVudSk7CiAgICAgIH0KCiAgICAgIGlmICghc2VsZWN0ZWRLZXlzKSB7CiAgICAgICAgc2VsZWN0ZWRLZXlzID0gWycxJ107CiAgICAgIH0KCiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KF9NZW51LCBfZXh0ZW5kcyh7CiAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMubWVudSwKICAgICAgICB0aGVtZTogc2lkZUJhclRoZW1lLAogICAgICAgIG1vZGU6ICJpbmxpbmUiLAogICAgICAgIHNlbGVjdGVkS2V5czogc2VsZWN0ZWRLZXlzLAogICAgICAgIG9uQ2xpY2s6IHRoaXMuZ290bwogICAgICB9LCB0aGlzLm1lbnVQcm9wcyksIG1lbnVJdGVtcyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VycmVudFJvdXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb3V0ZXJTdG9yZS5sb2NhdGlvbi5wYXRobmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtZW51VHJlZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGFycmF5VG9UcmVlKG1lbnUsICdpZCcsICdwaWQnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtZW51UHJvcHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgc2lkZUJhckNvbGxhcHNlZCA9IF90aGlzJHByb3BzMi5zaWRlQmFyQ29sbGFwc2VkLAogICAgICAgICAgbmF2T3BlbktleXMgPSBfdGhpcyRwcm9wczIubmF2T3BlbktleXM7CiAgICAgIHJldHVybiAhc2lkZUJhckNvbGxhcHNlZCA/IHsKICAgICAgICBvbk9wZW5DaGFuZ2U6IHRoaXMub25PcGVuQ2hhbmdlLAogICAgICAgIG9wZW5LZXlzOiBuYXZPcGVuS2V5cwogICAgICB9IDoge307CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2lkZXJNZW51Owp9KFJlYWN0LkNvbXBvbmVudCksIF90ZW1wKSwgKF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICJjdXJyZW50Um91dGUiLCBbY29tcHV0ZWRdLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9jbGFzczIucHJvdG90eXBlLCAiY3VycmVudFJvdXRlIiksIF9jbGFzczIucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgIm1lbnVUcmVlIiwgW2NvbXB1dGVkXSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgIm1lbnVUcmVlIiksIF9jbGFzczIucHJvdG90eXBlKSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MyLnByb3RvdHlwZSwgIm1lbnVQcm9wcyIsIFtjb21wdXRlZF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzMi5wcm90b3R5cGUsICJtZW51UHJvcHMiKSwgX2NsYXNzMi5wcm90b3R5cGUpKSwgX2NsYXNzMikpIHx8IF9jbGFzcykgfHwgX2NsYXNzKTsKdmFyIF9kZWZhdWx0ID0gU2lkZXJNZW51OwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihTdWJNZW51LCAiU3ViTWVudSIsICJFOlxcd29ya3NwYWNlLW15c2VsZlxcbmF0dXJhbC1jbGktdHlwZXNjcmlwdFxcd2VicGFjazQtcmVhY3QtdHMtbW9ieC1hbnRkLXlkamZlXFxzcmNcXGNvbnRhaW5lcnNcXHZpZXdzXFxIb21lXFxTaWRlclxcTWVudS50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihTaWRlck1lbnUsICJTaWRlck1lbnUiLCAiRTpcXHdvcmtzcGFjZS1teXNlbGZcXG5hdHVyYWwtY2xpLXR5cGVzY3JpcHRcXHdlYnBhY2s0LXJlYWN0LXRzLW1vYngtYW50ZC15ZGpmZVxcc3JjXFxjb250YWluZXJzXFx2aWV3c1xcSG9tZVxcU2lkZXJcXE1lbnUudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkU6XFx3b3Jrc3BhY2UtbXlzZWxmXFxuYXR1cmFsLWNsaS10eXBlc2NyaXB0XFx3ZWJwYWNrNC1yZWFjdC10cy1tb2J4LWFudGQteWRqZmVcXHNyY1xcY29udGFpbmVyc1xcdmlld3NcXEhvbWVcXFNpZGVyXFxNZW51LnRzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\containers\\views\\Home\\Sider\\Menu.tsx"],"names":["React","observer","inject","computed","pathToRegexp","styles","menu","arrayToTree","queryArray","SubMenu","SiderMenu","store","routerStore","globalStore","authStore","userInfo","sideBarTheme","sideBarCollapsed","navOpenKeys","setOpenKeys","levelMap","goto","key","history","props","selectedMenu","find","item","String","id","path","currentRoute","push","onOpenChange","openKeys","latestOpenKey","includes","latestCloseKey","nextOpenKeys","getAncestorKeys","concat","getPathArray","array","current","result","getPath","pid","unshift","map","getParent","index","hasOwnProperty","call","getMenus","menuTree","children","icon","title","menuItems","currentMenu","exec","selectedKeys","menuProps","location","pathname","Component"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { observer, inject } from 'mobx-react'\nimport { computed } from 'mobx'\nimport { Menu, Icon } from 'antd'\nimport pathToRegexp from 'path-to-regexp'\n\nimport * as styles from './index.scss'\nimport menu, { IMenu, IMenuInTree } from './../menu'\nimport { arrayToTree, queryArray } from '@utils/index'\n\nconst { SubMenu } = Menu\n\ninterface IStoreProps {\n    sideBarCollapsed?: boolean\n    sideBarTheme?: IGlobalStore.SideBarTheme\n    navOpenKeys?: string[]\n    setOpenKeys?: (openKeys: string[]) => void\n    userInfo?: IAuthStore.UserInfo\n    routerStore?: RouterStore\n}\n\n@inject(\n    (store: IStore): IStoreProps => {\n        const { routerStore, globalStore, authStore } = store\n        const { userInfo } = authStore\n        const { sideBarTheme, sideBarCollapsed, navOpenKeys, setOpenKeys } = globalStore\n        return {\n            routerStore,\n            userInfo,\n            sideBarTheme,\n            sideBarCollapsed,\n            navOpenKeys,\n            setOpenKeys\n        }\n    }\n)\n@observer\nclass SiderMenu extends React.Component<IStoreProps> {\n    // 打开的菜单层级记录\n    private levelMap: NumberObject = {}\n\n    @computed\n    get currentRoute() {\n        return this.props.routerStore.location.pathname\n    }\n\n    @computed\n    get menuTree() {\n        return arrayToTree<IMenuInTree>(menu, 'id', 'pid')\n    }\n\n    @computed\n    get menuProps() {\n        const { sideBarCollapsed, navOpenKeys } = this.props\n        return !sideBarCollapsed\n            ? {\n                  onOpenChange: this.onOpenChange,\n                  openKeys: navOpenKeys\n              }\n            : {}\n    }\n\n    goto = ({ key }: { key: string }) => {\n        const { history } = this.props.routerStore\n        const selectedMenu = menu.find(item => String(item.id) === key)\n        if (selectedMenu && selectedMenu.path && selectedMenu.path !== this.currentRoute) {\n            history.push(selectedMenu.path)\n        }\n    }\n\n    onOpenChange = (openKeys: string[]): void => {\n        const { navOpenKeys, setOpenKeys } = this.props\n        const latestOpenKey = openKeys.find(key => !navOpenKeys.includes(key))\n        const latestCloseKey = navOpenKeys.find(key => !openKeys.includes(key))\n        let nextOpenKeys = []\n        if (latestOpenKey) {\n            nextOpenKeys = this.getAncestorKeys(latestOpenKey).concat(latestOpenKey)\n        }\n        if (latestCloseKey) {\n            nextOpenKeys = this.getAncestorKeys(latestCloseKey)\n        }\n        setOpenKeys(nextOpenKeys)\n    }\n\n    getPathArray = (array: IMenu[], current: IMenu): string[] => {\n        const result = [String(current.id)]\n        const getPath = (item: IMenu): void => {\n            if (item && item.pid) {\n                result.unshift(String(item.pid))\n                getPath(queryArray(array, String(item.pid), 'id'))\n            }\n        }\n        getPath(current)\n        return result\n    }\n\n    // 保持选中\n    getAncestorKeys = (key: string): string[] => {\n        const map = {}\n        const getParent = index => {\n            const result = [String(this.levelMap[index])]\n            if (this.levelMap[result[0]]) {\n                result.unshift(getParent(result[0])[0])\n            }\n            return result\n        }\n        for (const index in this.levelMap) {\n            if ({}.hasOwnProperty.call(this.levelMap, index)) {\n                map[index] = getParent(index)\n            }\n        }\n        return map[key] || []\n    }\n\n    // 递归生成菜单\n    getMenus = (menuTree: IMenuInTree[]) => {\n        return menuTree.map(item => {\n            if (item.children) {\n                if (item.pid) {\n                    this.levelMap[item.id] = item.pid\n                }\n                return (\n                    <SubMenu\n                        key={String(item.id)}\n                        title={\n                            <span>\n                                {item.icon && <Icon type={item.icon} />}\n                                <span>{item.title}</span>\n                            </span>\n                        }\n                    >\n                        {this.getMenus(item.children)}\n                    </SubMenu>\n                )\n            }\n            return (\n                <Menu.Item key={String(item.id)}>\n                    {item.icon && <Icon type={item.icon} />}\n                    <span>{item.title}</span>\n                </Menu.Item>\n            )\n        })\n    }\n\n    render() {\n        this.levelMap = {}\n        const { sideBarTheme } = this.props\n        const menuItems = this.getMenus(this.menuTree)\n        // 寻找选中路由\n        let currentMenu: IMenu = null\n        for (const item of menu) {\n            if (item.path && pathToRegexp(item.path).exec(this.currentRoute)) {\n                currentMenu = item\n                break\n            }\n        }\n        let selectedKeys: string[] = null\n        if (currentMenu) {\n            selectedKeys = this.getPathArray(menu, currentMenu)\n        }\n        if (!selectedKeys) {\n            selectedKeys = ['1']\n        }\n        return (\n            <Menu\n                className={styles.menu}\n                theme={sideBarTheme}\n                mode=\"inline\"\n                selectedKeys={selectedKeys}\n                onClick={this.goto}\n                {...this.menuProps}\n            >\n                {menuItems}\n            </Menu>\n        )\n    }\n}\n\nexport default SiderMenu\n"]}]}