{"remainingRequest":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js??ref--7-1!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js??ref--7-2!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\components\\AutoSizer\\index.tsx","dependencies":[{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\components\\AutoSizer\\index.tsx","mtime":1557549177000},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558612017300},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1550204147052},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js","mtime":1557710044686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwoKdmFyIEF1dG9TaXplciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoQXV0b1NpemVyLCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gQXV0b1NpemVyKCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRvU2l6ZXIpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoQXV0b1NpemVyKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CiAgICBfdGhpcy5zdGF0ZSA9IHsKICAgICAgaGVpZ2h0OiAwLAogICAgICB3aWR0aDogMAogICAgfTsKICAgIF90aGlzLmNvbnRhaW5lclJlZiA9IG51bGw7CiAgICBfdGhpcy50aW1lciA9IG51bGw7CgogICAgX3RoaXMubGlzdGVuUmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZXIpOwogICAgICBfdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnNldFNpemUoKTsKICAgICAgfSwgMTAwKTsKICAgIH07CgogICAgX3RoaXMuc2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzLmNvbnRhaW5lclJlZikgewogICAgICAgIHZhciBfdGhpcyRjb250YWluZXJSZWYgPSBfdGhpcy5jb250YWluZXJSZWYsCiAgICAgICAgICAgIGNsaWVudEhlaWdodCA9IF90aGlzJGNvbnRhaW5lclJlZi5jbGllbnRIZWlnaHQsCiAgICAgICAgICAgIGNsaWVudFdpZHRoID0gX3RoaXMkY29udGFpbmVyUmVmLmNsaWVudFdpZHRoOwoKICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7CiAgICAgICAgICBoZWlnaHQ6IGNsaWVudEhlaWdodCwKICAgICAgICAgIHdpZHRoOiBjbGllbnRXaWR0aAogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIF90aGlzLnNldFJlZiA9IGZ1bmN0aW9uIChyZWYpIHsKICAgICAgX3RoaXMuY29udGFpbmVyUmVmID0gcmVmOwoKICAgICAgX3RoaXMuc2V0U2l6ZSgpOwogICAgfTsKCiAgICBfdGhpcy5iaW5kT3JVbmJpbmRSZXNpemUgPSBmdW5jdGlvbiAodHlwZSkgewogICAgICB2YXIgbGlzdGVuZXIgPSB0eXBlID09PSAnYmluZCcgPyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA6IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyOwogICAgICBsaXN0ZW5lcigncmVzaXplJywgX3RoaXMubGlzdGVuUmVzaXplLCBmYWxzZSk7CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRvU2l6ZXIsIFt7CiAgICBrZXk6ICJjb21wb25lbnREaWRNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7CiAgICAgIHRoaXMuYmluZE9yVW5iaW5kUmVzaXplKCdiaW5kJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50V2lsbFVubW91bnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgewogICAgICB0aGlzLmJpbmRPclVuYmluZFJlc2l6ZSgndW5iaW5kJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsCiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsCiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzLnN0eWxlLAogICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbjsKICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSwKICAgICAgICAgIHdpZHRoID0gX3RoaXMkc3RhdGUud2lkdGgsCiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRzdGF0ZS5oZWlnaHQ7CiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsCiAgICAgICAgc3R5bGU6IHN0eWxlLAogICAgICAgIHJlZjogdGhpcy5zZXRSZWYKICAgICAgfSwgY2hpbGRyZW4oewogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0b1NpemVyOwp9KFJlYWN0LkNvbXBvbmVudCk7Cgp2YXIgX2RlZmF1bHQgPSBBdXRvU2l6ZXI7CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0Owo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKEF1dG9TaXplciwgIkF1dG9TaXplciIsICJFOlxcd29ya3NwYWNlLW15c2VsZlxcbmF0dXJhbC1jbGktdHlwZXNjcmlwdFxcd2VicGFjazQtcmVhY3QtdHMtbW9ieC1hbnRkLXlkamZlXFxzcmNcXGNvbXBvbmVudHNcXEF1dG9TaXplclxcaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkU6XFx3b3Jrc3BhY2UtbXlzZWxmXFxuYXR1cmFsLWNsaS10eXBlc2NyaXB0XFx3ZWJwYWNrNC1yZWFjdC10cy1tb2J4LWFudGQteWRqZmVcXHNyY1xcY29tcG9uZW50c1xcQXV0b1NpemVyXFxpbmRleC50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\components\\AutoSizer\\index.tsx"],"names":["React","AutoSizer","state","height","width","containerRef","timer","listenResize","clearTimeout","setTimeout","setSize","clientHeight","clientWidth","setState","setRef","ref","bindOrUnbindResize","type","listener","window","addEventListener","removeEventListener","props","className","style","children","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;IAkBMC,S;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AAAEC,MAAAA,MAAM,EAAE,CAAV;AAAaC,MAAAA,KAAK,EAAE;AAApB,K;UAEAC,Y,GAA+B,I;UAC/BC,K,GAAsB,I;;UAE9BC,Y,GAAe,YAAM;AACjBC,MAAAA,YAAY,CAAC,MAAKF,KAAN,CAAZ;AACA,YAAKA,KAAL,GAAaG,UAAU,CAAC,YAAM;AAC1B,cAAKC,OAAL;AACH,OAFsB,EAEpB,GAFoB,CAAvB;AAGH,K;;UAEDA,O,GAAU,YAAM;AACZ,UAAI,MAAKL,YAAT,EAAuB;AAAA,iCACmB,MAAKA,YADxB;AAAA,YACXM,YADW,sBACXA,YADW;AAAA,YACGC,WADH,sBACGA,WADH;;AAEnB,cAAKC,QAAL,CAAc;AAAEV,UAAAA,MAAM,EAAEQ,YAAV;AAAwBP,UAAAA,KAAK,EAAEQ;AAA/B,SAAd;AACH;AACJ,K;;UAEDE,M,GAAS,UAACC,GAAD,EAAyB;AAC9B,YAAKV,YAAL,GAAoBU,GAApB;;AACA,YAAKL,OAAL;AACH,K;;UAEDM,kB,GAAqB,UAACC,IAAD,EAA6B;AAC9C,UAAMC,QAAQ,GAAGD,IAAI,KAAK,MAAT,GAAkBE,MAAM,CAACC,gBAAzB,GAA4CD,MAAM,CAACE,mBAApE;AACAH,MAAAA,QAAQ,CAAC,QAAD,EAAW,MAAKX,YAAhB,EAA8B,KAA9B,CAAR;AACH,K;;;;;;;wCAEmB;AAChB,WAAKS,kBAAL,CAAwB,MAAxB;AACH;;;2CAEsB;AACnB,WAAKA,kBAAL,CAAwB,QAAxB;AACH;;;6BAEQ;AAAA,wBACkC,KAAKM,KADvC;AAAA,UACGC,SADH,eACGA,SADH;AAAA,UACcC,KADd,eACcA,KADd;AAAA,UACqBC,QADrB,eACqBA,QADrB;AAAA,wBAEqB,KAAKvB,KAF1B;AAAA,UAEGE,KAFH,eAEGA,KAFH;AAAA,UAEUD,MAFV,eAEUA,MAFV;AAGL,aACI;AAAK,QAAA,SAAS,EAAEoB,SAAhB;AAA2B,QAAA,KAAK,EAAEC,KAAlC;AAAyC,QAAA,GAAG,EAAE,KAAKV;AAAnD,SACKW,QAAQ,CAAC;AAAErB,QAAAA,KAAK,EAALA,KAAF;AAASD,QAAAA,MAAM,EAANA;AAAT,OAAD,CADb,CADJ;AAKH;;;;;;;;;;;EA9CmBH,KAAK,CAAC0B,S;;eAiDfzB,S;AAAf;;;;;;;;;;0BAjDMA,S","sourcesContent":["import * as React from 'react'\n\ninterface Size {\n    width: number\n    height: number\n}\n\ninterface IP {\n    className?: string\n    style?: React.CSSProperties\n    children?: (props: Size) => React.ReactNode\n}\n\ninterface IS {\n    height: number\n    width: number\n}\n\nclass AutoSizer extends React.Component<IP, IS> {\n    state = { height: 0, width: 0 }\n\n    private containerRef: HTMLDivElement = null\n    private timer: NodeJS.Timer = null\n\n    listenResize = () => {\n        clearTimeout(this.timer)\n        this.timer = setTimeout(() => {\n            this.setSize()\n        }, 100)\n    }\n\n    setSize = () => {\n        if (this.containerRef) {\n            const { clientHeight, clientWidth } = this.containerRef\n            this.setState({ height: clientHeight, width: clientWidth })\n        }\n    }\n\n    setRef = (ref: HTMLDivElement) => {\n        this.containerRef = ref\n        this.setSize()\n    }\n\n    bindOrUnbindResize = (type: 'bind' | 'unbind') => {\n        const listener = type === 'bind' ? window.addEventListener : window.removeEventListener\n        listener('resize', this.listenResize, false)\n    }\n\n    componentDidMount() {\n        this.bindOrUnbindResize('bind')\n    }\n\n    componentWillUnmount() {\n        this.bindOrUnbindResize('unbind')\n    }\n\n    render() {\n        const { className, style, children } = this.props\n        const { width, height } = this.state\n        return (\n            <div className={className} style={style} ref={this.setRef}>\n                {children({ width, height })}\n            </div>\n        )\n    }\n}\n\nexport default AutoSizer\n"]}]}