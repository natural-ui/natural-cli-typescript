{"remainingRequest":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js??ref--7-1!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js??ref--7-2!E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\socketStore\\index.ts","dependencies":[{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\socketStore\\index.ts","mtime":1557549177000},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558612017300},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1550204147052},{"path":"E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\node_modules\\babel-loader\\lib\\index.js","mtime":1557710044686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9jbGFzcywgX2Rlc2NyaXB0b3IsIF9kZXNjcmlwdG9yMiwgX2Rlc2NyaXB0b3IzLCBfZGVzY3JpcHRvcjQsIF9kZXNjcmlwdG9yNSwgX2Rlc2NyaXB0b3I2LCBfZGVzY3JpcHRvcjcsIF9kZXNjcmlwdG9yOCwgX2Rlc2NyaXB0b3I5LCBfZGVzY3JpcHRvcjEwLCBfZGVzY3JpcHRvcjExLCBfdGVtcDsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvciwgY29udGV4dCkgeyBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLCBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLCB3cml0YWJsZTogZGVzY3JpcHRvci53cml0YWJsZSwgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAgfSk7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKHRhcmdldCwgcHJvcGVydHksIGRlY29yYXRvcnMsIGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdmFyIGRlc2MgPSB7fTsgT2JqZWN0LmtleXMoZGVzY3JpcHRvcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IGRlc2Nba2V5XSA9IGRlc2NyaXB0b3Jba2V5XTsgfSk7IGRlc2MuZW51bWVyYWJsZSA9ICEhZGVzYy5lbnVtZXJhYmxlOyBkZXNjLmNvbmZpZ3VyYWJsZSA9ICEhZGVzYy5jb25maWd1cmFibGU7IGlmICgndmFsdWUnIGluIGRlc2MgfHwgZGVzYy5pbml0aWFsaXplcikgeyBkZXNjLndyaXRhYmxlID0gdHJ1ZTsgfSBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGRlc2MsIGRlY29yYXRvcikgeyByZXR1cm4gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHksIGRlc2MpIHx8IGRlc2M7IH0sIGRlc2MpOyBpZiAoY29udGV4dCAmJiBkZXNjLmluaXRpYWxpemVyICE9PSB2b2lkIDApIHsgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7IGRlc2MuaW5pdGlhbGl6ZXIgPSB1bmRlZmluZWQ7IH0gaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYyk7IGRlc2MgPSBudWxsOyB9IHJldHVybiBkZXNjOyB9CgpmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHsgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0ICcgKyAncHJvcG9zYWwtY2xhc3MtcHJvcGVydGllcyBpcyBlbmFibGVkIGFuZCBzZXQgdG8gdXNlIGxvb3NlIG1vZGUuICcgKyAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArICd0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGRlY29yYXRvcnMgaW4gc3RhZ2UgMi4nKTsgfQoKaW1wb3J0IHsgb2JzZXJ2YWJsZSwgYWN0aW9uLCBjb21wdXRlZCB9IGZyb20gJ21vYngnOwppbXBvcnQgeyBTdG9yZUV4dCB9IGZyb20gJ0B1dGlscy9yZWFjdEV4dCc7CmltcG9ydCB7IExPQ0FMU1RPUkFHRV9LRVlTIH0gZnJvbSAnQGNvbnN0YW50cy9pbmRleCc7CmltcG9ydCB7IFNPQ0tFUl9UWVBFUywgREFUQV9GT1JNQVRTIH0gZnJvbSAnQGNvbnN0YW50cy9zb2NrZXQnOwovKioKICogc29ja2V0IGRlYnVnZ2VyIHN0b3JlCiAqCiAqIEBleHBvcnQKICogQGNsYXNzIFNvY2tldFN0b3JlCiAqIEBleHRlbmRzIHtTdG9yZUV4dH0KICovCgpleHBvcnQgdmFyIFNvY2tldFN0b3JlID0gKF9jbGFzcyA9IChfdGVtcCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9TdG9yZUV4dCkgewogIF9pbmhlcml0cyhTb2NrZXRTdG9yZSwgX1N0b3JlRXh0KTsKCiAgZnVuY3Rpb24gU29ja2V0U3RvcmUoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldFN0b3JlKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFNvY2tldFN0b3JlKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJzb2NrZXRUeXBlIiwgX2Rlc2NyaXB0b3IsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgImRhdGFGb3JtYXQiLCBfZGVzY3JpcHRvcjIsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInNvY2tldElzQ29ubmVjdGVkIiwgX2Rlc2NyaXB0b3IzLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJtZXNzYWdlcyIsIF9kZXNjcmlwdG9yNCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCAibm90U3VwcG9ydFBvbGxpbmciLCBfZGVzY3JpcHRvcjUsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInNldFNvY2tldFR5cGUiLCBfZGVzY3JpcHRvcjYsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInNldERhdGFGb3JtYXQiLCBfZGVzY3JpcHRvcjcsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKCiAgICBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eShfdGhpcywgInNldFNvY2tldElzQ29ubmVjdGVkIiwgX2Rlc2NyaXB0b3I4LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJjbGVhck1lc3NhZ2VzIiwgX2Rlc2NyaXB0b3I5LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgX2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHkoX3RoaXMsICJhZGRNZXNzYWdlIiwgX2Rlc2NyaXB0b3IxMCwgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpOwoKICAgIF9pbml0aWFsaXplckRlZmluZVByb3BlcnR5KF90aGlzLCAic2V0Tm90U3VwcG9ydFBvbGxpbmciLCBfZGVzY3JpcHRvcjExLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNvY2tldFN0b3JlLCBbewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNTb2NrZXRJTyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc29ja2V0VHlwZSA9PT0gU09DS0VSX1RZUEVTWzBdOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFNvY2tldFN0b3JlOwp9KFN0b3JlRXh0KSwgX3RlbXApLCAoX2Rlc2NyaXB0b3IgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJzb2NrZXRUeXBlIiwgW29ic2VydmFibGVdLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGVudW1lcmFibGU6IHRydWUsCiAgd3JpdGFibGU6IHRydWUsCiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlTLlNPQ0tFVF9UWVBFKSB8fCBTT0NLRVJfVFlQRVNbMF07CiAgfQp9KSwgX2Rlc2NyaXB0b3IyID0gX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCAiZGF0YUZvcm1hdCIsIFtvYnNlcnZhYmxlXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTFNUT1JBR0VfS0VZUy5EQVRBX0ZPUk1BVCkgfHwgREFUQV9GT1JNQVRTWzBdOwogIH0KfSksIF9kZXNjcmlwdG9yMyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgInNvY2tldElzQ29ubmVjdGVkIiwgW29ic2VydmFibGVdLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGVudW1lcmFibGU6IHRydWUsCiAgd3JpdGFibGU6IHRydWUsCiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KfSksIF9kZXNjcmlwdG9yNCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgIm1lc3NhZ2VzIiwgW29ic2VydmFibGVdLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGVudW1lcmFibGU6IHRydWUsCiAgd3JpdGFibGU6IHRydWUsCiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkgewogICAgcmV0dXJuIFtdOwogIH0KfSksIF9kZXNjcmlwdG9yNSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgIm5vdFN1cHBvcnRQb2xsaW5nIiwgW29ic2VydmFibGVdLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAogIGVudW1lcmFibGU6IHRydWUsCiAgd3JpdGFibGU6IHRydWUsCiAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlTLk5PVF9TVVBQT1JUX1BPTExJTkcpID09PSAndHJ1ZSc7CiAgfQp9KSwgX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvcihfY2xhc3MucHJvdG90eXBlLCAiaXNTb2NrZXRJTyIsIFtjb21wdXRlZF0sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgImlzU29ja2V0SU8iKSwgX2NsYXNzLnByb3RvdHlwZSksIF9kZXNjcmlwdG9yNiA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgInNldFNvY2tldFR5cGUiLCBbYWN0aW9uXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSkgewogICAgICBfdGhpczIuc29ja2V0VHlwZSA9IHR5cGU7CiAgICB9OwogIH0KfSksIF9kZXNjcmlwdG9yNyA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgInNldERhdGFGb3JtYXQiLCBbYWN0aW9uXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YUZvcm1hdCkgewogICAgICBfdGhpczMuZGF0YUZvcm1hdCA9IGRhdGFGb3JtYXQ7CiAgICB9OwogIH0KfSksIF9kZXNjcmlwdG9yOCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgInNldFNvY2tldElzQ29ubmVjdGVkIiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHNvY2tldElzQ29ubmVjdGVkKSB7CiAgICAgIF90aGlzNC5zb2NrZXRJc0Nvbm5lY3RlZCA9IHNvY2tldElzQ29ubmVjdGVkOwogICAgfTsKICB9Cn0pLCBfZGVzY3JpcHRvcjkgPSBfYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yKF9jbGFzcy5wcm90b3R5cGUsICJjbGVhck1lc3NhZ2VzIiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBfdGhpczUubWVzc2FnZXMgPSBbXTsKICAgIH07CiAgfQp9KSwgX2Rlc2NyaXB0b3IxMCA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgImFkZE1lc3NhZ2UiLCBbYWN0aW9uXSwgewogIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICBlbnVtZXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIGluaXRpYWxpemVyOiBmdW5jdGlvbiBpbml0aWFsaXplcigpIHsKICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICBpZiAoIW1lc3NhZ2UudGltZSkgewogICAgICAgIG1lc3NhZ2UudGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICB9CgogICAgICBfdGhpczYubWVzc2FnZXMucHVzaChtZXNzYWdlKTsKICAgIH07CiAgfQp9KSwgX2Rlc2NyaXB0b3IxMSA9IF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IoX2NsYXNzLnByb3RvdHlwZSwgInNldE5vdFN1cHBvcnRQb2xsaW5nIiwgW2FjdGlvbl0sIHsKICBjb25maWd1cmFibGU6IHRydWUsCiAgZW51bWVyYWJsZTogdHJ1ZSwKICB3cml0YWJsZTogdHJ1ZSwKICBpbml0aWFsaXplcjogZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7CiAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCkgewogICAgICBfdGhpczcubm90U3VwcG9ydFBvbGxpbmcgPSB2YWw7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlTLk5PVF9TVVBQT1JUX1BPTExJTkcsIFN0cmluZyh2YWwpKTsKICAgIH07CiAgfQp9KSksIF9jbGFzcyk7Cgp2YXIgX2RlZmF1bHQgPSBuZXcgU29ja2V0U3RvcmUoKTsKCmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0Owo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmRlZmF1bHQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFNvY2tldFN0b3JlLCAiU29ja2V0U3RvcmUiLCAiRTpcXHdvcmtzcGFjZS1teXNlbGZcXG5hdHVyYWwtY2xpLXR5cGVzY3JpcHRcXHdlYnBhY2s0LXJlYWN0LXRzLW1vYngtYW50ZC15ZGpmZVxcc3JjXFxzdG9yZVxcc29ja2V0U3RvcmVcXGluZGV4LnRzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkU6XFx3b3Jrc3BhY2UtbXlzZWxmXFxuYXR1cmFsLWNsaS10eXBlc2NyaXB0XFx3ZWJwYWNrNC1yZWFjdC10cy1tb2J4LWFudGQteWRqZmVcXHNyY1xcc3RvcmVcXHNvY2tldFN0b3JlXFxpbmRleC50cyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["E:\\workspace-myself\\natural-cli-typescript\\webpack4-react-ts-mobx-antd-ydjfe\\src\\store\\socketStore\\index.ts"],"names":["observable","action","computed","StoreExt","LOCALSTORAGE_KEYS","SOCKER_TYPES","DATA_FORMATS","SocketStore","socketType","localStorage","getItem","SOCKET_TYPE","DATA_FORMAT","NOT_SUPPORT_POLLING","type","dataFormat","socketIsConnected","messages","message","time","Date","getTime","push","val","notSupportPolling","setItem","String"],"mappings":"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","sourcesContent":["import { observable, action, computed } from 'mobx'\n\nimport { StoreExt } from '@utils/reactExt'\nimport { LOCALSTORAGE_KEYS } from '@constants/index'\nimport { SOCKER_TYPES, DATA_FORMATS } from '@constants/socket'\n\n/**\n * socket debugger store\n *\n * @export\n * @class SocketStore\n * @extends {StoreExt}\n */\nexport class SocketStore extends StoreExt {\n    @observable\n    socketType: ISocketStore.SocketType =\n        (localStorage.getItem(LOCALSTORAGE_KEYS.SOCKET_TYPE) as ISocketStore.SocketType) || SOCKER_TYPES[0]\n    @observable\n    dataFormat: ISocketStore.DataFormatType =\n        (localStorage.getItem(LOCALSTORAGE_KEYS.DATA_FORMAT) as ISocketStore.DataFormatType) || DATA_FORMATS[0]\n    @observable\n    socketIsConnected: boolean = false\n    @observable\n    messages: ISocketStore.Message[] = []\n    @observable\n    notSupportPolling: boolean = localStorage.getItem(LOCALSTORAGE_KEYS.NOT_SUPPORT_POLLING) === 'true'\n\n    @computed\n    get isSocketIO() {\n        return this.socketType === SOCKER_TYPES[0]\n    }\n\n    @action\n    setSocketType = (type: ISocketStore.SocketType) => {\n        this.socketType = type\n    }\n\n    @action\n    setDataFormat = (dataFormat: ISocketStore.DataFormatType) => {\n        this.dataFormat = dataFormat\n    }\n\n    @action\n    setSocketIsConnected = (socketIsConnected: boolean) => {\n        this.socketIsConnected = socketIsConnected\n    }\n\n    @action\n    clearMessages = () => {\n        this.messages = []\n    }\n\n    @action\n    addMessage = (message: ISocketStore.Message) => {\n        if (!message.time) {\n            message.time = new Date().getTime()\n        }\n        this.messages.push(message)\n    }\n\n    @action\n    setNotSupportPolling = (val: boolean) => {\n        this.notSupportPolling = val\n        localStorage.setItem(LOCALSTORAGE_KEYS.NOT_SUPPORT_POLLING, String(val))\n    }\n}\n\nexport default new SocketStore()\n"]}]}